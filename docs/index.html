<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulator Token Listrik</title>

    <!-- Favicon -->
    <link rel="icon" href="https://unpkg.com/@phosphor-icons/web@2.0.3/src/duotone/calculator.svg" type="image/svg+xml">

    <!-- Icons -->
    <link href='https://cdn.boxicons.com/fonts/basic/boxicons.min.css' rel='stylesheet'>
    
    <!-- TailwindCSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body class="bg-teal-50/70 text-slate-800">

    <div class="container mx-auto max-w-2xl p-4 sm:p-6 md:p-8">
        
        <!-- Header -->
        <header class="text-center mb-8">
            <div class="inline-block bg-gradient-to-br from-yellow-300 to-teal-500 text-white p-1 rounded-full mb-4 shadow-lg shadow-teal-600/50">
                <div class="bg-white rounded-full p-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-[70px] h-[70px] fill-current text-teal-600" viewBox="0 0 300 300" preserveAspectRatio="xMidYMid meet">
                        <g transform="translate(0,300) scale(0.1,-0.1)" stroke="none">
                        <path d="M1271 2686 c-15 -18 -9 -31 65 -134 59 -82 73 -117 55 -135 -7 -7 -60 -14 -134 -17 -114 -5 -122 -6 -125 -26 -2 -13 39 -80 115 -188 65 -92 144 -205 176 -250 l58 -83 68 -7 c266 -24 495 -221 561 -482 24 -95 26 -227 4 -321 -47 -202 -215 -389 -414 -460 -60 -22 -98 -28 -191 -31 -175 -6 -289 30 -428 134 -72 54 -165 172 -200 253 -78 181 -65 418 32 583 61 105 162 200 269 254 27 13 48 29 48 35 0 17 -100 159 -112 159 -26 0 -154 -86 -220 -148 -178 -168 -269 -377 -270 -617 0 -243 83 -442 256 -615 128 -127 255 -195 436 -232 208 -44 451 5 635 127 264 176 412 489 377 800 -42 376 -315 678 -682 754 -49 10 -59 16 -83 53 -53 82 -37 98 104 98 123 0 139 4 139 34 -1 21 -241 369 -303 439 l-34 37 -95 0 c-71 0 -99 -4 -107 -14z"/>
                        <path d="M1150 1331 c-15 -28 -13 -254 2 -269 7 -7 36 -12 65 -12 68 0 73 10 73 150 0 141 -4 150 -75 150 -43 0 -56 -4 -65 -19z"/>
                        <path d="M1681 1331 c-6 -11 -11 -73 -11 -139 0 -140 3 -145 82 -140 l53 3 5 60 c3 33 3 98 0 145 l-5 85 -57 3 c-48 3 -58 0 -67 -17z"/>
                        </g>
                    </svg>
                </div>
            </div>

            <h1 class="text-4xl font-extrabold text-slate-900 tracking-tight">Kalkulator Token Listrik</h1>
            <p class="text-slate-600 mt-3 max-w-xl mx-auto">Platform untuk Menghitung Estimasi Tagihan Listrik Pascabayar, Pembelian Token Prabayar, dan Tagihan Listrik Industri.</p>
        </header>

        <!-- Main Tab Navigation -->
        <nav class="mb-1">
            <div class="bg-gradient-to-b from-yellow-200/20 to-teal-200/50 p-1.5 rounded-xl flex justify-center items-center gap-1 sm:gap-2 max-w-lg mx-auto mb-2 shadow-md shadow-teal-600/30">
                <button id="btn-tab-daya" data-tab="daya" class="main-tab-button active py-2.5 px-2 sm:px-4 text-xs sm:text-base">Harian</button>
                <button id="btn-tab-prabayar" data-tab="prabayar" class="main-tab-button py-2.5 px-2 sm:px-4 text-xs sm:text-base">Prabayar</button>
                <button id="btn-tab-pascabayar" data-tab="pascabayar" class="main-tab-button py-2.5 px-2 sm:px-4 text-xs sm:text-base">Pascabayar</button>
                <button id="btn-tab-industri" data-tab="industri" class="main-tab-button py-2.5 px-2 sm:px-4 text-xs sm:text-base">Industri</button>
            </div>
        </nav>

        <!-- Container for Tab Content -->
        <div>
            <!-- Kalkulator Harian -->
            <div id="content-daya" class="hidden">
                <main class="bg-white p-6 sm:p-8 rounded-2xl shadow-lg shadow-teal-600/30">
                    <form id="form-daya">
                        <div class="space-y-8">
                            <div class="mb-8">
                                <h2 class="text-lg font-bold text-slate-800 mb-3">Tarif Token</h2>
                                <div class="input-group">
                                    <span class="input-icon text-xl"><i class='bx bxs-print-dollar mt-1'></i></span>
                                    <input type="number" id="daya-tarif-kwh" value="1444.70" placeholder=" " step="any" class="floating-input w-full rounded-lg shadow-sm transition" required>
                                    <label for="daya-tarif-kwh" class="floating-label">Harga per kWh (Rp)</label>
                                </div>
                            </div>
                            <div>
                                <h2 class="text-lg font-bold text-slate-800 mb-3">Data Pemakaian Alat</h2>
                                <div class="space-y-6">
                                    <div class="grid grid-cols-2 gap-x-4 gap-y-8">
                                        <div class="input-group">
                                        <span class="input-icon"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 14 4-4"/><path d="M12 14v4"/><path d="m16 10-4 4"/><path d="m18 12 2-2"/><path d="m6 12-2 2"/><path d="M12 6V2"/><path d="M7 7 2 2"/><path d="m17 7 5-5"/></svg></span>
                                        <input type="number" id="daya-watt" placeholder=" " class="floating-input w-full rounded-lg shadow-sm transition" required>
                                        <label for="daya-watt" class="floating-label text-sm">Daya Alat (Watt)</label>
                                    </div>
                                    <div class="input-group">
                                        <span class="input-icon"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg></span>
                                        <input type="number" id="daya-jam" placeholder=" " step="any" class="floating-input w-full rounded-lg shadow-sm transition" required>
                                        <label for="daya-jam" class="floating-label text-sm">Durasi (Jam)</label>
                                    </div>
                                    </div>
                                    <div class="input-group">
                                        <span class="input-icon"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></svg></span>
                                        <input type="number" id="daya-hari" value="30" placeholder=" " class="floating-input w-full rounded-lg shadow-sm transition" required>
                                        <label for="daya-hari" class="floating-label">Durasi per Bulan (Hari)</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mt-10">
                          <button type="submit" class="w-full bg-teal-500 text-white font-bold py-4 px-4 rounded-xl hover:bg-teal-600 focus:outline-none focus:ring-4 focus:ring-teal-500/50 transition-all duration-300 transform hover:scale-[1.02]">Hitung Biaya Alat</button>
                        </div>
                    </form>
                </main>
                <section id="hasil-daya" class="hidden mt-10"></section>
            </div>

            <!-- Kalkulator Prabayar -->
            <div id="content-prabayar" class="hidden">
                <main class="bg-white p-6 sm:p-8 rounded-2xl shadow-lg shadow-teal-600/30">
                    <form id="form-prabayar">
                        <div class="space-y-8">
                            <div>
                                <h2 class="text-lg font-bold text-slate-800 mb-3">Tarif Token</h2>
                                <div class="input-group">
                                <span class="input-icon text-xl"><i class='bx bxs-print-dollar mt-1'></i></span>
                                <input type="number" id="prabayar-tarif-kwh" value="1444.70" placeholder=" " step="any" class="floating-input w-full rounded-lg shadow-sm transition" required>
                                <label for="prabayar-tarif-kwh" class="floating-label">Harga per kWh (Rp)</label>
                                </div>
                            </div>
                            <div>
                                <h2 class="text-lg font-bold text-slate-800 mb-4">Nominal Pembelian</h2>
                                <div class="input-group">
                                <span class="input-icon"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12V7H5a2 2 0 0 1 0-4h14v4"/><path d="M3 5v14a2 2 0 0 0 2 2h16v-5"/><path d="M18 12a2 2 0 0 0 0 4h4v-4Z"/></svg></span>
                                <input type="text" inputmode="numeric" id="prabayar-nominal-beli" placeholder=" " class="floating-input w-full rounded-lg shadow-sm transition" required>
                                <label for="prabayar-nominal-beli" class="floating-label">Nominal Beli (Rp)</label>
                                </div>
                            </div>
                        </div>
                        <div class="mt-10">
                            <button type="submit" class="w-full bg-teal-500 text-white font-bold py-4 px-4 rounded-xl hover:bg-teal-600 focus:outline-none focus:ring-4 focus:ring-teal-500/50 transition-all duration-300 transform hover:scale-[1.02]">Hitung kWh</button>
                        </div>
                    </form>
                </main>
                <section id="hasil-prabayar" class="hidden mt-10"></section>
            </div>

            <!-- Kalkulator Pascabayar (Tagihan Bulanan Sederhana) -->
            <div id="content-pascabayar">
                <main class="bg-white p-6 sm:p-8 rounded-2xl shadow-lg shadow-teal-600/30">
                    <form id="form-pascabayar">
                        <div class="mb-8">
                            <h2 class="text-lg font-bold text-slate-800 mb-3">Tarif Token</h2>
                            <div class="input-group">
                                <span class="input-icon text-xl"><i class='bx bxs-print-dollar mt-1'></i></span>
                                <input type="number" id="pascabayar-tarif-kwh" value="1444.70" placeholder=" " step="any" class="floating-input w-full rounded-lg shadow-sm transition" required>
                                <label for="pascabayar-tarif-kwh" class="floating-label">Harga per kWh (Rp)</label>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-x-4 gap-y-8">
                            <div class="space-y-4">
                                <h2 class="text-lg font-bold text-slate-800">Data Awal</h2>
                                <div class="input-group">
                                    <span class="input-icon text-2xl"><i class='bx  bx-bolt-circle mt-2'></i></span>
                                    <input type="number" id="pascabayar-kwh-awal" placeholder=" " step="any" class="floating-input w-full rounded-lg shadow-sm transition" required>
                                    <label for="pascabayar-kwh-awal" class="floating-label">Meter Awal</label>
                                </div>
                            </div>
                            <div class="space-y-4">
                                <h2 class="text-lg font-bold text-slate-800">Data Akhir</h2>
                                <div class="input-group">
                                    <span class="input-icon text-2xl"><i class='bx  bx-bolt-circle mt-2'></i></span>
                                    <input type="number" id="pascabayar-kwh-akhir" placeholder=" " step="any" class="floating-input w-full rounded-lg shadow-sm transition" required>
                                    <label for="pascabayar-kwh-akhir" class="floating-label">Meter Akhir</label>
                                </div>
                            </div>
                        </div>
                        <div class="mt-10">
                          <button type="submit" class="w-full bg-teal-500 text-white font-bold py-4 px-4 rounded-xl hover:bg-teal-600 focus:outline-none focus:ring-4 focus:ring-teal-500/50 transition-all duration-300 transform hover:scale-[1.02]">Hitung Estimasi Biaya</button>
                        </div>
                    </form>
                </main>
                <section id="hasil-pascabayar" class="hidden mt-10"></section>
            </div>

            <!-- Kalkulator Industri (WBP, LWBP, kVARh) -->
            <div id="content-industri" class="hidden">
                <main class="bg-white p-6 sm:p-8 rounded-2xl shadow-lg shadow-teal-600/30">
                    <form id="form-industri">
                        <div class="mb-8">
                            <h2 class="text-lg font-bold text-slate-800 mb-3">Faktor Kali (x)</h2>
                            <div class="input-group">
                                <span class="input-icon"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-webhook"><path d="M18 16.98h.01"/><path d="M18 16.98h.01"/><path d="M18 16.98h.01"/><path d="M18 16.98h.01"/><path d="M6 16.98h.01"/><path d="M12 16.98h.01"/><path d="M12 11.98h.01"/><path d="M12 11.98h.01"/><path d="M12 11.98h.01"/><path d="M12 11.98h.01"/><path d="M12 11.98h.01"/><path d="m6 12 6-6 6 6"/><path d="M12 17v5"/><path d="M12 7V2"/></svg></span>
                                <input type="number" id="industri-faktor-kali" value="400" placeholder=" " step="any" class="floating-input w-full rounded-lg shadow-sm transition">
                                <label for="industri-faktor-kali" class="floating-label">Faktor Kali (x)</label>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-x-4 gap-y-8">
                            <div class="space-y-4">
                                <h2 class="text-lg font-bold text-slate-800">Data Awal</h2>
                                <div class="input-group">
                                    <span class="input-icon text-2xl"><i class='bx  bx-bolt-circle mt-2'></i></span>
                                    <input type="number" id="industri-wbp-awal" placeholder=" " step="any" class="floating-input w-full rounded-lg shadow-sm transition">
                                    <label for="industri-wbp-awal" class="floating-label">WBP Awal</label>
                                </div>
                                <div class="input-group">
                                    <span class="input-icon text-2xl"><i class='bx  bx-bolt-circle mt-2'></i></span>
                                    <input type="number" id="industri-lwbp-awal" placeholder=" " step="any" class="floating-input w-full rounded-lg shadow-sm transition">
                                    <label for="industri-lwbp-awal" class="floating-label">LWBP Awal</label>
                                </div>
                                <div class="input-group">
                                    <span class="input-icon text-2xl"><i class='bx  bx-bolt-circle mt-2'></i></span>
                                    <input type="number" id="industri-kvarh-awal" placeholder=" " step="any" class="floating-input w-full rounded-lg shadow-sm transition">
                                    <label for="industri-kvarh-awal" class="floating-label">kVARh Awal</label>
                                </div>
                            </div>
                            <div class="space-y-4">
                                <h2 class="text-lg font-bold text-slate-800">Data Akhir</h2>
                                <div class="input-group">
                                    <span class="input-icon text-2xl"><i class='bx  bx-bolt-circle mt-2'></i></span>
                                    <input type="number" id="industri-wbp-akhir" placeholder=" " step="any" class="floating-input w-full rounded-lg shadow-sm transition">
                                    <label for="industri-wbp-akhir" class="floating-label">WBP Akhir</label>
                                </div>
                                <div class="input-group">
                                    <span class="input-icon text-2xl"><i class='bx  bx-bolt-circle mt-2'></i></span>
                                    <input type="number" id="industri-lwbp-akhir" placeholder=" " step="any" class="floating-input w-full rounded-lg shadow-sm transition">
                                    <label for="industri-lwbp-akhir" class="floating-label">LWBP Akhir</label>
                                </div>
                                <div class="input-group">
                                    <span class="input-icon text-2xl"><i class='bx  bx-bolt-circle mt-2'></i></span>
                                    <input type="number" id="industri-kvarh-akhir" placeholder=" " step="any" class="floating-input w-full rounded-lg shadow-sm transition">
                                    <label for="industri-kvarh-akhir" class="floating-label">kVARh Akhir</label>
                                </div>
                            </div>
                        </div>
                        <div class="mt-10"><button type="submit" class="w-full bg-teal-500 text-white font-bold py-4 px-4 rounded-xl hover:bg-teal-600 focus:outline-none focus:ring-4 focus:ring-teal-500/50 transition-all duration-300 transform hover:scale-[1.02]">Hitung Estimasi Biaya</button></div>
                    </form>
                </main>
                <section id="hasil-industri" class="hidden mt-10"></section>
            </div>
        </div>

        <!-- Footer -->
        <footer class="text-center mt-12 text-slate-500 text-sm">
            <p>&copy; 2025 - Credit by Aping Kadut 🐍.</p>
        </footer>
    </div>

    <!-- Script Utama Untuk Tab Navigasi & Fungsi -->
    <script>
        const formatAngka = (angka, desimal = 2) => {
            if (isNaN(angka)) return '0';
            return angka.toLocaleString('id-ID', { minimumFractionDigits: 0, maximumFractionDigits: desimal });
        }
        const formatRupiah = (angka) => {
            if (isNaN(angka)) return 'Rp 0';
            return 'Rp ' + Math.round(angka).toLocaleString('id-ID', { minimumFractionDigits: 0, maximumFractionDigits: 0 });
        }
        const showErrorModal = (message) => {
            const existingModal = document.querySelector('.error-modal');
            if (existingModal) existingModal.remove();
            const modal = document.createElement('div');
            modal.className = 'error-modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `<div class="bg-white rounded-lg shadow-xl p-6 max-w-sm w-full text-center slide-fade-in"><h3 class="text-lg font-bold text-red-600 mb-2">Input Tidak Valid</h3><p class="text-slate-600 mb-4">${message}</p><button class="bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600 transition-colors">Tutup</button></div>`;
            document.body.appendChild(modal);
            modal.querySelector('button').addEventListener('click', () => modal.remove());
        };

        // Logika Tab Navigasi
        document.addEventListener('DOMContentLoaded', () => {
            const mainTabButtons = document.querySelectorAll('.main-tab-button');
            const tabContents = {
                pascabayar: document.getElementById('content-pascabayar'),
                prabayar: document.getElementById('content-prabayar'),
                industri: document.getElementById('content-industri'),
                daya: document.getElementById('content-daya'),
            };

            const switchMainTab = (tabName) => {
                Object.values(tabContents).forEach(content => content.classList.add('hidden'));
                mainTabButtons.forEach(button => button.classList.remove('active'));

                if (tabContents[tabName]) {
                    tabContents[tabName].classList.remove('hidden');
                    document.querySelector(`.main-tab-button[data-tab="${tabName}"]`).classList.add('active');
                }
                
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };

            mainTabButtons.forEach(button => {
                button.addEventListener('click', () => switchMainTab(button.dataset.tab));
            });
            
            // Tab Utama
            switchMainTab('daya');
        });
    </script>

    <!-- Script Kalkulator -->
    <script src="assets/js/harian.js"></script>
    <script src="assets/js/prabayar.js"></script>
    <script src="assets/js/pascabayar.js"></script>
    <script src="assets/js/industri.js"></script>

</body>
</html>